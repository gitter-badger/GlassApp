!function(e){function t(t){for(var l,o,r=t[0],s=t[1],c=t[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);for(u&&u(t);m.length;)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],l=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(l=!1)}l&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var l={},a={0:0},i=[];function o(t){if(l[t])return l[t].exports;var n=l[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=l,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(n,l,function(t){return e[t]}.bind(null,l));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/GlassApp/";var r=window.webpackJsonp=window.webpackJsonp||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=s;i.push([274,1]),n()}({154:function(e,t,n){e.exports=n.p+"3af3d898c2213ac5ba25e1a6e03a2baf.png"},274:function(e,t,n){"use strict";n.r(t);var l,a,i,o,r,s,c,u=n(0),d=n(108),m=n(86),p=n(32),g=n(11),v=n(14),h=n(29),E=n.n(h),b=n(18),f=n.n(b),x=(n(81),n(7));function w(e){return e*(180/Math.PI)}function N(e,t){const n=setInterval(e,t);return()=>clearInterval(n)}let y=(l=x.f.bound,a=x.f.bound,i=x.f.bound,o=x.f.bound,r=class{constructor(e){E()(this,"logs",s,this),E()(this,"logging",c,this),this.sim=void 0,this.intervalDisposer=void 0,this.sim=e}startLogging(){var e;null===(e=this.intervalDisposer)||void 0===e||e.call(this),this.intervalDisposer=void 0,this.addLog(),this.intervalDisposer=N(()=>{this.addLog()},1e4),this.logging=!0}stopLogging(){var e;null===(e=this.intervalDisposer)||void 0===e||e.call(this),this.intervalDisposer=void 0,this.logging=!1}addLog(){var e,t,n,l;const a=null===(e=this.sim.getData("PLANE ALTITUDE"))||void 0===e?void 0:e.value;if(null==a)return;const i=null===(t=this.sim.getData("PLANE LATITUDE"))||void 0===t?void 0:t.value;if(null==i)return;const o=null===(n=this.sim.getData("PLANE LONGITUDE"))||void 0===n?void 0:n.value;if(null==o)return;const r=null===(l=this.sim.getData("PLANE HEADING DEGREES TRUE"))||void 0===l?void 0:l.value;null!=r&&this.logs.push({altitude:a,latitude:i,longitude:o,heading:r,date:new Date})}clearLog(){this.logs=[]}downloadLog(){const e=JSON.stringify(this.logs),t=document.createElement("a");t.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","flightlog"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},s=f()(r.prototype,"logs",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=f()(r.prototype,"logging",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f()(r.prototype,"startLogging",[l],Object.getOwnPropertyDescriptor(r.prototype,"startLogging"),r.prototype),f()(r.prototype,"stopLogging",[a],Object.getOwnPropertyDescriptor(r.prototype,"stopLogging"),r.prototype),f()(r.prototype,"addLog",[i],Object.getOwnPropertyDescriptor(r.prototype,"addLog"),r.prototype),f()(r.prototype,"clearLog",[o],Object.getOwnPropertyDescriptor(r.prototype,"clearLog"),r.prototype),r);var L,T,O,C,I,A,k,_,D,S,P,G,R=n(101),M=n(162),j=n(277),F=n(109),H=n(67),U=n(161),V=n(122),z=(n(180),n(6)),B=n(160),K=n(100),W=n(163),X=n(52),$=n(77),Y=n(154),q=n.n(Y),J=n(110),Q=n(2);let Z=(L=x.f.bound,T=x.f.bound,O=x.f.bound,C=x.f.bound,I=class{constructor(e){this.osmSource=new B.a({}),this.osmLayer=new U.a({source:this.osmSource}),this.planeIcon=new W.a({anchor:[.5,.5],scale:[.2,.2],anchorXUnits:X.a.FRACTION,anchorYUnits:X.a.FRACTION,src:q.a,rotateWithView:!0}),this.planeIconStyle=new $.c({image:this.planeIcon}),this.planePoint=new H.a([0,0]),this.planeFeature=new R.a({geometry:this.planePoint}),this.planeSource=new K.a({features:[this.planeFeature]}),this.planeLayer=new V.a({source:this.planeSource}),this.drawSource=new K.a({}),this.drawInteraction=new J.a({source:this.drawSource,type:Q.a.LINE_STRING}),this.view=new M.a({center:[0,0],zoom:14}),this.map=new j.a({layers:[this.osmLayer,this.planeLayer],view:this.view,controls:[new F.a({units:"nautical"})]}),E()(this,"followPlane",A,this),E()(this,"followHeading",k,this),E()(this,"showLog",_,this),E()(this,"planeLongitude",D,this),E()(this,"planeLatitude",S,this),E()(this,"planeHeading",P,this),E()(this,"measuring",G,this),this.app=void 0,this.sim=void 0,this.disposers=[],this.onRef=e=>{this.map.setTarget(null!=e?e:void 0)},this.app=e,this.sim=e.sim,this.planeFeature.setStyle(this.planeIconStyle),this.disposers.push(Object(x.g)(()=>this.update())),this.drawInteraction.on("drawstart",e=>{console.log("Draw Start")})}dispose(){this.disposers.forEach(e=>e()),this.disposers=[]}toggleFollowPlane(){this.followPlane=!this.followPlane}toggleFollowPlaneHeading(){this.followHeading=!this.followHeading,this.followHeading||this.view.setRotation(0)}toggleShowLog(){this.showLog=!this.showLog}toggleMeasure(){this.measuring=!this.measuring,this.measuring?this.map.addInteraction(this.drawInteraction):this.map.removeInteraction(this.drawInteraction)}resetNorth(){this.view.setRotation(0)}update(){var e,t,n,l,a,i;this.planeLatitude=null!==(e=null===(t=this.sim.getData("PLANE LATITUDE"))||void 0===t?void 0:t.value)&&void 0!==e?e:this.planeLatitude,this.planeLongitude=null!==(n=null===(l=this.sim.getData("PLANE LONGITUDE"))||void 0===l?void 0:l.value)&&void 0!==n?n:this.planeLongitude,this.planeHeading=null!==(a=null===(i=this.sim.getData("PLANE HEADING DEGREES TRUE"))||void 0===i?void 0:i.value)&&void 0!==a?a:this.planeHeading;const o=Object(z.d)([this.planeLongitude,this.planeLatitude]),r=this.planeHeading*(Math.PI/180);this.planePoint.setCoordinates(o),this.planeIcon.setRotation(r),this.followPlane&&this.view.setCenter(o),this.followHeading&&this.view.setRotation(-1*r)}},A=f()(I.prototype,"followPlane",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=f()(I.prototype,"followHeading",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=f()(I.prototype,"showLog",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=f()(I.prototype,"planeLongitude",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=f()(I.prototype,"planeLatitude",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=f()(I.prototype,"planeHeading",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=f()(I.prototype,"measuring",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f()(I.prototype,"toggleFollowPlane",[L],Object.getOwnPropertyDescriptor(I.prototype,"toggleFollowPlane"),I.prototype),f()(I.prototype,"toggleFollowPlaneHeading",[T],Object.getOwnPropertyDescriptor(I.prototype,"toggleFollowPlaneHeading"),I.prototype),f()(I.prototype,"toggleShowLog",[O],Object.getOwnPropertyDescriptor(I.prototype,"toggleShowLog"),I.prototype),f()(I.prototype,"toggleMeasure",[C],Object.getOwnPropertyDescriptor(I.prototype,"toggleMeasure"),I.prototype),I);var ee,te;let ne=(ee=class{constructor(e){var t;E()(this,"_value",te,this),this._domain=void 0,this._name=void 0,this._serialize=void 0,this._deserialize=void 0,this._domain=e.domain,this._name=e.name,this._serialize=e.serialize.bind(e),this._deserialize=e.deserialize.bind(e),this._value=null!==(t=this.getFromStorage())&&void 0!==t?t:e.initial,this.saveToStorage(this._value)}get(){return this._value}set(e){this._value=e,this.saveToStorage(this._value)}saveToStorage(e){const t=this._serialize(e);localStorage.setItem(this.getKey(),t)}getFromStorage(){const e=localStorage.getItem(this.getKey());if(null!=e)try{return this._deserialize(e)}catch{return}}getKey(){return`${this._domain}:${this._name}`}},te=f()(ee.prototype,"_value",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f()(ee.prototype,"set",[x.f],Object.getOwnPropertyDescriptor(ee.prototype,"set"),ee.prototype),ee);var le,ae,ie,oe,re;let se=(le=class{constructor(){E()(this,"sock",ae,this),E()(this,"connected",ie,this),this.pollingIntervalDisposer=void 0,E()(this,"serverUrl",oe,this),E()(this,"simDataCache",re,this),this.unknownSimDataNames=new Set,this.connect(),Object(x.g)(()=>{null==this.sock&&this.connect()})}getData(e){return this.getCache(e)}setData(e,t){null!=this.simDataCache.get(e)&&this.sendCommand({setData:{[e]:t}})}connect(){if(null!=this.sock)return;console.log("Connecting  to GlassServer socket..."),this.connected=!1;const e=new WebSocket(this.serverUrl.get());this.sock=e,setTimeout(()=>{e.readyState!=e.OPEN&&e.close()},2e3),e.addEventListener("open",()=>{var e;console.log("Connected to GlassServer socket!"),this.connected=!0,null===(e=this.pollingIntervalDisposer)||void 0===e||e.call(this),this.pollingIntervalDisposer=N(()=>this.tick(),250)}),e.addEventListener("message",e=>{this.processCommand(JSON.parse(e.data))}),e.addEventListener("close",e=>{console.log("Closed connection to GlassServer socket.",e.reason,e.code,e.wasClean),this.sock=void 0,this.connected=!1})}sendEvent(e,t){this.sendCommand({sendEvent:{[e]:null!=t?t:0}})}getCache(e){const t=this.simDataCache.get(e);if(null!=t)return t;this.unknownSimDataNames.add(e)}tick(){this.connected&&this.sendCommand({getData:!0,subscribe:[...this.unknownSimDataNames]})}processCommand(e){if(null!=e.updateData&&e.updateData.length>0)for(const t of e.updateData){const e=this.simDataCache.get(t.name);!e||e.value===t.value&&e.text===t.text?(this.simDataCache.set(t.name,t),this.unknownSimDataNames.delete(t.name)):(e.value=t.value,e.text=t.text)}}sendCommand(e){const t=this.sock;null!=t&&t.send(JSON.stringify(e))}},ae=f()(le.prototype,"sock",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=f()(le.prototype,"connected",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=f()(le.prototype,"serverUrl",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ne({initial:"ws://localhost:8888/sim",domain:"GlassServerApp",name:"glassServerUrl",serialize:e=>e,deserialize:e=>e})}}),re=f()(le.prototype,"simDataCache",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),le);var ce,ue,de,me,pe;let ge=(ce=class{constructor(){E()(this,"sim",ue,this),E()(this,"map",de,this),E()(this,"blackbox",me,this),E()(this,"showGreeting",pe,this),this.sim=new se,this.map=new Z(this),this.blackbox=new y(this.sim),this.sim.connect()}},ue=f()(ce.prototype,"sim",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=f()(ce.prototype,"map",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=f()(ce.prototype,"blackbox",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=f()(ce.prototype,"showGreeting",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ne({initial:!0,serialize:e=>e?"true":"false",deserialize:e=>"true"===e,name:"showGreeting",domain:"GlassServerApp"})}}),ce);function ve(e,t){return Object(g.b)(["& > *{",";",";}& > *:first-child{",":0px;}& > *:last-child{",":0px;}"],"row"===t?`margin-left: ${e}px`:`margin-top: ${e}px`,"row"===t?`margin-right: ${e}px`:`margin-bottom: ${e}px`,"row"===t?"margin-left":"margin-top","row"===t?"margin-right":"margin-bottom")}const he="hsl(170, 100%, 50%)",Ee=Object(g.b)(["background-color:",";"],he),be=g.c.div.withConfig({displayName:"input__Root",componentId:"jsh9ru-0"})(["background-color:",";border:2px solid black;border-radius:16px;padding:8px;display:flex;flex-direction:column;min-width:100px;:hover{background-color:",";}",""],"hsl(170, 100%, 90%)","hsl(170, 100%, 75%)",e=>e.active&&Ee),fe=Object(g.b)(["background-color:white;"]),xe=g.c.input.withConfig({displayName:"input__Input",componentId:"jsh9ru-1"})(["background-color:unset;border:unset;align-self:center;align-self:stretch;font-size:16px;text-align:center;-webkit-outer-spin-button,-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}-moz-appearance:textfield;",""],e=>e.active&&fe),we=g.c.label.withConfig({displayName:"input__Label",componentId:"jsh9ru-2"})(["align-self:center;margin-bottom:4px;user-select:none;"]);var Ne=u.memo(e=>{const{value:t}=e,n=u.useRef(null),[l,a]=u.useState(null),i=u.useMemo(()=>null==t?"":null!=e.format?e.format(t):t,[e.format,t]),o=u.useCallback(()=>{var e;null==l&&(null===(e=n.current)||void 0===e||e.focus())},[l]),r=u.useCallback(t=>{var i;if("Enter"!==t.key)return;const o=parseFloat(null!=l?l:"");var r;Number.isNaN(o)||(null===(r=e.onChange)||void 0===r||r.call(e,o));a(null),null===(i=n.current)||void 0===i||i.blur()},[l,e.onChange]),s=u.useCallback(()=>{var t,i,o;null==l&&(a(null!==(t=null===(i=e.value)||void 0===i?void 0:i.toString())&&void 0!==t?t:""),null===(o=n.current)||void 0===o||o.select())},[e.value,l]),c=u.useCallback(e=>{a(e.target.value)},[]),d=u.useCallback(()=>{if(null==l)return;const t=parseFloat(l);var n;Number.isNaN(t)||(null===(n=e.onChange)||void 0===n||n.call(e,t));a(null)},[l,e.onChange]);return u.createElement(be,{onClick:o,active:null!=l},null!=e.label&&u.createElement(we,null,e.label),u.createElement(xe,{ref:n,active:null!=l,value:null!=l?l:i,onFocus:s,onChange:c,onBlur:d,onKeyPress:r,placeholder:e.placeholder,type:null!=l?"number":"text"}))}),ye=n(90),Le=n(66);const Te=Object(g.b)([":hover{background-color:",";}"],"hsl(170, 100%, 75%)"),Oe=Object(g.b)(["background-color:",";"],"#dddddd"),Ce=Object(g.b)(["box-shadow:4px 4px 8px 2px hsla(0,0%,0%,50%) inset;background-color:",";"],he);var Ie=g.c.button.withConfig({displayName:"Button",componentId:"sc-1v9m9ol-0"})(["padding:8px;border:2px solid black;border-radius:16px;background-color:",";"," "," ",""],"hsl(170, 100%, 90%)",e=>e.active&&Ce,e=>e.disabled&&Oe,e=>!e.disabled&&Te);function Ae(e){return u.createElement(Ie,{disabled:e.disabled,active:e.active,onClick:()=>{var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e)}},u.createElement(Le.a,{icon:e.active?ye.a:ye.b})," ",e.text)}var ke=Object(v.a)(e=>{var t;const{sim:n,varName:l}=e,a=n.getData(l),i=(null!==(t=null==a?void 0:a.value)&&void 0!==t?t:0)>.5;return u.createElement(Ae,{text:e.text,onClick:function(){if(null!=e.eventName)return void n.sendEvent(e.eventName);n.setData(e.varName,i?0:1)},disabled:null==a,active:i})}),_e=n(85);const De=Object(g.c)(Le.a).withConfig({displayName:"VerticalCollapse__MyIcon",componentId:"sc-1vdy4sx-0"})(["transition:transform 250ms;transform:",";margin-left:4px;"],e=>e.collapsed?"rotate(0deg)":"rotate(90deg)"),Se=g.c.div.withConfig({displayName:"VerticalCollapse__MyHeading",componentId:"sc-1vdy4sx-1"})(["padding:4px 8px;background-color:hsl(0,0%,30%);color:white;user-select:none;cursor:pointer;border-radius:",";:hover{background-color:hsl(0,0%,50%);}h3{margin:0;margin-left:8px;padding:0;}display:flex;flex-direction:row;align-items:center;"],e=>e.collapsed?"16px 16px 16px 16px":"16px 16px 2px 2px");var Pe=function(e){var t;const[n,l]=u.useState(null!==(t=e.defaultCollapsed)&&void 0!==t&&t);return u.createElement(u.Fragment,null,u.createElement(Se,{collapsed:n,onClick:()=>l(e=>!e)},u.createElement(De,{collapsed:n,icon:_e.b}),u.createElement("h3",null,e.title)),n?null:e.children)},Ge=Object(v.a)(e=>{var t;const{sim:n}=e;return 1===(null===(t=n.getData("AUTOPILOT AVAILABLE"))||void 0===t?void 0:t.value)?u.createElement(Pe,{title:"Autopilot"},u.createElement(ke,{sim:n,text:"Autopilot",varName:"AUTOPILOT MASTER",eventName:"AP_MASTER"}),u.createElement(ke,{sim:n,text:"Flight Director",varName:"AUTOPILOT FLIGHT DIRECTOR ACTIVE",eventName:"TOGGLE_FLIGHT_DIRECTOR"}),u.createElement(ke,{sim:n,text:"Nav Lock",varName:"AUTOPILOT NAV1 LOCK",eventName:"AP_NAV1_HOLD"}),u.createElement(ke,{sim:n,text:"Heading Lock",varName:"AUTOPILOT HEADING LOCK",eventName:"AP_HDG_HOLD"}),u.createElement(Re,{sim:n}),u.createElement(ke,{sim:n,text:"Altitude Lock",varName:"AUTOPILOT ALTITUDE LOCK",eventName:"AP_PANEL_ALTITUDE_HOLD"}),u.createElement(Me,{sim:n}),u.createElement(ke,{sim:n,text:"Attitude Hold",varName:"AUTOPILOT ATTITUDE HOLD",eventName:"AP_ATT_HOLD"}),u.createElement(ke,{sim:n,text:"Airspeed Hold",varName:"AUTOPILOT AIRSPEED HOLD",eventName:"AP_AIRSPEED_HOLD"}),u.createElement(je,{sim:n}),u.createElement(Fe,{sim:n})):null});const Re=Object(v.a)(e=>{var t;const{sim:n}=e,l=null===(t=n.getData("AUTOPILOT HEADING LOCK DIR"))||void 0===t?void 0:t.value;return u.createElement(Ne,{label:"Heading",disabled:null==l,value:Math.round(null!=l?l:0),format:e=>e+"°",onChange:e=>null!=e&&n.sendEvent("HEADING_BUG_SET",Math.round(e))})}),Me=Object(v.a)(e=>{var t;const{sim:n}=e,l=null===(t=n.getData("AUTOPILOT ALTITUDE LOCK VAR"))||void 0===t?void 0:t.value;return u.createElement(Ne,{label:"Altitude",disabled:null==l,value:Math.round(null!=l?l:0),format:e=>e+" ft.",onChange:e=>null!=e&&n.sendEvent("AP_ALT_VAR_SET_ENGLISH",Math.round(e))})}),je=Object(v.a)(e=>{var t;const{sim:n}=e,l=null===(t=n.getData("AUTOPILOT AIRSPEED HOLD VAR"))||void 0===t?void 0:t.value;return u.createElement(Ne,{label:"Airspeed",disabled:null==l,value:Math.round(null!=l?l:0),format:e=>e+" kts",onChange:e=>null!=e&&n.sendEvent("AP_SPD_VAR_SET",Math.round(e))})}),Fe=Object(v.a)(e=>{var t;const{sim:n}=e,l=null===(t=n.getData("AUTOPILOT VERTICAL HOLD VAR"))||void 0===t?void 0:t.value;return u.createElement(Ne,{label:"Vertical Speed",disabled:null==l,value:Math.round(null!=l?l:0),format:e=>e+" kts",onChange:e=>null!=e&&n.sendEvent("AP_VS_VAR_SET_ENGLISH",Math.round(e))})});var He=n(63),Ue=n.n(He),Ve=n(158),ze=n.n(Ve);const Be=g.c.div.withConfig({displayName:"Meter__RootDiv",componentId:"sc-1aiykj1-0"})(['position:relative;overflow:hidden;height:32px;background-color:hsl(0,0%,80%);border:1px black solid;border-radius:16px;background-size:64px 32px;&:after{content:"";position:absolute;top:0;right:0;width:100%;height:100%;box-shadow:0 5px 5px -5px #333 inset;}']),Ke=g.c.div.withConfig({displayName:"Meter__MyMeter",componentId:"sc-1aiykj1-1"})(["height:32px;border-radius:32px;background-color:",";transition:width 200ms;"],"hsl(150, 100%, 50%)"),We=g.c.div.withConfig({displayName:"Meter__MyOverlay",componentId:"sc-1aiykj1-2"})(["background-color:hsla(0,0%,100%,75%);padding:2px 4px;position:absolute;border-radius:4px;white-space:nowrap;word-wrap:unset;text-overflow:ellipsis;left:50%;top:50%;transform:translate(-50%,-50%);"]);var Xe=Object(v.a)(e=>{const{text:t,value:n,min:l,max:a,hoverText:i}=e,[o,r]=u.useState(!1),[s,c]=u.useState(!1),d=(s||o)&&null!=i?i:t,m=function(e,t,n,l,a){return(e-t)*(a-l)/(n-t)+l}(null!=n?n:0,null!=l?l:0,null!=a?a:1,0,100);return u.createElement(Be,{onPointerDown:()=>r(!0),onPointerUp:()=>r(!1),onPointerOver:()=>c(!0),onPointerOut:()=>c(!1)},u.createElement(Ke,{style:{width:m.toFixed(3)+"%"}}),null!=d&&u.createElement(We,null,d))}),$e=u.memo(e=>{const{label:t,sim:n,event:l,value:a}=e;return u.createElement(Ie,{onClick:()=>n.sendEvent(l,a)},t)});const Ye=g.c.div.withConfig({displayName:"ControlView__ColumnDiv",componentId:"sc-6yqwio-0"})(["display:flex;flex-direction:row;"," *{flex-grow:1;}"],ve(4,"row"));var qe=Object(v.a)(e=>{var t,n,l,a;const{sim:i}=e,o=null!==(t=null===(n=i.getData("AIRSPEED TRUE"))||void 0===n?void 0:n.value)&&void 0!==t?t:0,r=null!==(l=null===(a=i.getData("AIRSPEED BARBER POLE"))||void 0===a?void 0:a.value)&&void 0!==l?l:200;return u.createElement(Pe,{title:"Control"},u.createElement(ke,{sim:i,text:"Landing Gear",varName:"GEAR HANDLE POSITION",eventName:"GEAR_TOGGLE"}),u.createElement(Je,{sim:i}),u.createElement(Xe,{hoverText:"Airspeed",max:r,value:o,text:o.toFixed(1)+" kts"}),u.createElement("h3",null,"Reset Trims"),u.createElement(Ye,null,u.createElement($e,{sim:i,label:"Elevator",event:"AXIS_ELEV_TRIM_SET",value:0}),u.createElement(Ie,{onClick:()=>i.setData("AILERON TRIM PCT",0)},"Aileron"),u.createElement(Ie,{onClick:()=>i.setData("RUDDER TRIM PCT",0)},"Rudder")))});const Je=Object(v.a)(e=>{var t,n,l,a;const{sim:i}=e;if(!(1===(null===(t=i.getData("FLAPS AVAILABLE"))||void 0===t?void 0:t.value)))return null;const o=null!==(n=null===(l=i.getData("FLAPS NUM HANDLE POSITIONS"))||void 0===l?void 0:l.value)&&void 0!==n?n:0,r=null===(a=i.getData("FLAPS HANDLE PERCENT"))||void 0===a?void 0:a.value,s=function(e,t){if(null==t)return;return ze()(Ue()(0,e+1),n=>Math.abs(n/e*100-t))}(o,r);return u.createElement(u.Fragment,null,u.createElement("h3",null,"Flaps"),u.createElement(Ye,null,Ue()(0,o+1).map(e=>{const t=e/o,n=Math.round(100*t);return u.createElement(Ie,{onClick:()=>i.sendEvent("FLAPS_SET",Math.round(16383*t)),key:e,active:s===e},0==n?"Up":n+" %")})))});var Qe=n(159);const Ze=g.c.table.withConfig({displayName:"SimEventTriggerView__MyTable",componentId:"sc-1hmwuww-0"})(["tr{border:1px solid black;}"]);var et=Object(v.a)(e=>{const{sim:t}=e,[n,l]=u.useState(""),[a,i]=u.useState(Qe.a());return u.createElement(u.Fragment,null,u.createElement("h3",null,"Event Triggers"),u.createElement("input",{value:n,onChange:e=>l(e.target.value),placeholder:"Add simvar name to watch...",type:"text"}),u.createElement("button",{onClick:function(){i(e=>e.set(n,0)),l("")}},"+"),u.createElement(Ze,null,u.createElement("thead",null,u.createElement("td",null,"Name"),u.createElement("td",null,"Value"),u.createElement("td",null)),u.createElement("tbody",null,a.toArray().map(([e,n])=>u.createElement("tr",{key:e},u.createElement("td",null,u.createElement("button",{onClick:()=>i(t=>t.delete(e))},"X")),u.createElement("td",null,e),u.createElement("td",null,u.createElement("input",{value:n,onChange:t=>i(n=>n.set(e,t.target.valueAsNumber))})),u.createElement("td",null,u.createElement("button",{onClick:()=>t.sendEvent(e,n)},"Go!")))))))});const tt=g.c.table.withConfig({displayName:"SimVarWatcherView__MyTable",componentId:"sc-14vxzcy-0"})(["tr{border:1px solid black;}"]);var nt=Object(v.a)(e=>{const{sim:t}=e,[n,l]=u.useState(""),[a]=u.useState(x.n.set()),i=[...a].map(e=>t.getData(e)).filter(e=>null!=e);return u.createElement(u.Fragment,null,u.createElement("h3",null,"Watcher"),u.createElement("input",{value:n,onChange:e=>l(e.target.value),placeholder:"Add simvar name to watch...",type:"text"}),u.createElement("button",{onClick:function(){a.add(n),l("")}},"+"),u.createElement(tt,null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("td",null,"Name"),u.createElement("td",null,"Value"),u.createElement("td",null,"Text"),u.createElement("td",null,"Units"),u.createElement("td",null))),u.createElement("tbody",null,i.map(e=>u.createElement("tr",{key:e.name},u.createElement("td",null,e.name),u.createElement("td",null,e.value.toFixed(5)),u.createElement("td",null,e.text),u.createElement("td",null,e.units),u.createElement("td",null,u.createElement("button",{onClick:()=>a.delete(e.name)},"X")))))))}),lt=Object(v.a)(e=>{const{sim:t}=e;return u.createElement(Pe,{defaultCollapsed:!0,title:"Debug"},u.createElement(nt,{sim:t}),u.createElement(et,{sim:t}),u.createElement(m.b,{to:"sandbox"},"Go To Sandbox"))}),at=g.c.div.withConfig({displayName:"ColumnDiv",componentId:"sc-1t1jku7-0"})(["display:flex;flex-direction:row;"," *{flex-grow:1;}"],ve(4,"row"));const it=g.c.div.withConfig({displayName:"SimBoolIndicator__RootDiv",componentId:"sc-16fnbqv-0"})(["border:1px solid black;border-radius:2px;padding:4px;text-align:center;"]);var ot=Object(v.a)(e=>{var t;const{sim:n,text:l,varName:a,threshold:i}=e,o=n.getData(a),r=(null!==(t=null==o?void 0:o.value)&&void 0!==t?t:0)>(null!=i?i:.5);return u.createElement(it,{style:{backgroundColor:r?"hsl(150, 100%, 50%)":"#dddddd"}},u.createElement(Le.a,{icon:r?ye.a:ye.b})," ",l)});const rt=[{name:"Center 1",bit:0,dataName:"CENTER"},{name:"Center 2",bit:1,dataName:"CENTER2"},{name:"Center 3",bit:2,dataName:"CENTER3"},{name:"Left Main",bit:3,dataName:"LEFT MAIN"},{name:"Left Aux",bit:4,dataName:"LEFT AUX"},{name:"Left Tip",bit:5,dataName:"LEFT TIP"},{name:"Right Main",bit:6,dataName:"RIGHT MAIN"},{name:"Right Aux",bit:7,dataName:"RIGHT AUX"},{name:"Right Tip",bit:8,dataName:"RIGHT TIP"},{name:"External 1",bit:9,dataName:"EXTERNAL1"},{name:"External 2",bit:10,dataName:"EXTERNAL2"}],st=Object(v.a)(e=>{var t,n,l,a,i,o;const{sim:r,info:s}=e;if(0===(null!==(t=null===(n=r.getData(`FUEL TANK ${s.dataName} QUANTITY`))||void 0===n?void 0:n.value)&&void 0!==t?t:0))return null;const c=null!==(l=null===(a=r.getData(`FUEL TANK ${s.dataName} LEVEL`))||void 0===a?void 0:a.value)&&void 0!==l?l:0,d=null!==(i=null===(o=r.getData(`FUEL TANK ${s.dataName} QUANTITY`))||void 0===o?void 0:o.value)&&void 0!==i?i:0;return u.createElement(u.Fragment,null,u.createElement(Xe,{hoverText:s.name,value:c,max:100,text:d.toFixed(2)+" GAL"}))});var ct=Object(v.a)(e=>{const{sim:t}=e;return u.createElement(Pe,{title:"Fuel"},rt.map(e=>u.createElement(st,{key:e.name,sim:t,info:e})))});const ut=Object(v.a)(e=>{var t,n;const{sim:l,id:a}=e,i=null!==(t=null===(n=l.getData("GENERAL ENG MIXTURE LEVER POSITION:"+a))||void 0===n?void 0:n.value)&&void 0!==t?t:0;return u.createElement(Xe,{hoverText:"Engine "+a,value:i,max:100,text:i.toFixed(2)+"%"})});var dt=Object(v.a)(e=>{var t,n;const{sim:l}=e,a=null!==(t=null===(n=l.getData("NUMBER OF ENGINES"))||void 0===n?void 0:n.value)&&void 0!==t?t:0,i=Ue()(1,a+1);return u.createElement(Pe,{defaultCollapsed:!0,title:"Mixture"},i.map(e=>u.createElement(ut,{key:e,sim:l,id:e})))});const mt=Object(v.a)(e=>{var t,n;const{sim:l,id:a}=e,i=null===(t=l.getData("GENERAL ENG RPM:"+a))||void 0===t?void 0:t.value,o=null===(n=l.getData("GENERAL ENG PCT MAX RPM:"+a))||void 0===n?void 0:n.value;return u.createElement(Xe,{value:o,max:100,text:null==i?void 0:i.toFixed(2)})});var pt=Object(v.a)(e=>{var t,n;const{sim:l}=e,a=null!==(t=null===(n=l.getData("NUMBER OF ENGINES"))||void 0===n?void 0:n.value)&&void 0!==t?t:0,i=Ue()(1,a+1);return u.createElement(Pe,{title:"RPM"},i.map(e=>u.createElement(mt,{key:e,sim:l,id:e})))});const gt=Object(g.c)(Le.a).withConfig({displayName:"Collapse__CollapseIcon",componentId:"sc-1d60hvp-0"})(["transition:transform 250ms;transform:",";margin-left:4px;"],e=>e.collapsed?"rotate(0deg)":"rotate(90deg)"),vt=Object(g.b)(["border-radius:24px 24px 2px 2px;"]),ht=g.c.div.withConfig({displayName:"Collapse__Heading",componentId:"sc-1d60hvp-1"})(["padding:8px;background-color:hsl(0,0%,30%);color:white;user-select:none;cursor:pointer;border-radius:24px;",":hover{background-color:hsl(0,0%,50%);}h3{margin:0;margin-left:8px;padding:0;}height:24px;margin-bottom:8px;display:flex;flex-direction:row;align-items:center;"],e=>!e.collapsed&&vt);var Et=u.memo(e=>{var t,n;const[l,a]=u.useState(null!==(t=e.collapsed)&&void 0!==t&&t);u.useEffect(()=>{null!=e.collapsed&&a(e.collapsed)},[e.collapsed]);const i=null!==(n=e.collapsed)&&void 0!==n?n:l,o=u.useCallback(()=>{var t;null===(t=e.onChange)||void 0===t||t.call(e,!i),a(!i)},[e.onChange,i]);return u.createElement(u.Fragment,null,u.createElement(ht,{collapsed:i,onClick:o},u.createElement(gt,{collapsed:i,icon:_e.b}),u.createElement("h3",null,e.header)),!i&&u.createElement(e.content,e.props))});const bt=Object(v.a)(e=>{var t,n;const{sim:l,id:a}=e,i=null!==(t=null===(n=l.getData("GENERAL ENG THROTTLE LEVER POSITION:"+a))||void 0===n?void 0:n.value)&&void 0!==t?t:0;return u.createElement(Xe,{hoverText:"Engine "+a,value:i,max:100,text:i.toFixed(2)+"%"})}),ft=Object(v.a)(e=>{var t,n;const{sim:l}=e,a=null!==(t=null===(n=l.getData("NUMBER OF ENGINES"))||void 0===n?void 0:n.value)&&void 0!==t?t:0,i=Ue()(1,a+1);return u.createElement(u.Fragment,null,i.map(e=>u.createElement(bt,{key:e,sim:l,id:e})))});var xt=Object(v.a)(e=>{const{sim:t}=e;return u.createElement(Et,{props:{sim:t},header:"Throttle",content:ft})}),wt=Object(v.a)(e=>{var t,n;const{sim:l}=e,a=null!==(t=null===(n=l.getData("NUMBER OF ENGINES"))||void 0===n?void 0:n.value)&&void 0!==t?t:0,i=Ue()(1,a+1);return u.createElement(u.Fragment,null,u.createElement(Pe,{title:"Engine"},u.createElement("h5",null,"Alternators"),u.createElement(at,null,i.map(e=>u.createElement(ke,{sim:l,key:e,text:""+e,varName:"GENERAL ENG MASTER ALTERNATOR:"+e,eventName:"TOGGLE_ALTERNATOR:"+e}))),u.createElement("h5",null,"Combustion"),u.createElement(at,null,i.map(e=>u.createElement(ot,{key:e,sim:l,text:""+e,varName:"GENERAL ENG COMBUSTION:"+e}))),u.createElement(ke,{sim:l,text:"Pitot Heat",varName:"PITOT HEAT",eventName:"PITOT_HEAT_TOGGLE"})),u.createElement(pt,{sim:l}),u.createElement(ct,{sim:l}),u.createElement(xt,{sim:l}),u.createElement(dt,{sim:l}))});const Nt=g.c.div.withConfig({displayName:"GreetingView__RootDiv",componentId:"sc-1rukhu3-0"})(["position:fixed;top:50%;left:50%;background-color:white;display:flex;flex-direction:column;max-width:500px;border:solid 2px ",";transform:translate(-50%,-50%);box-shadow:0px 0px 100px 20px hsla(0,0%,0%,100%);border-radius:32px;padding:32px;z-index:1000;h3{margin:0px;margin-bottom:1em;}p{margin:0px;margin-bottom:1em;}"],he),yt=g.c.p.withConfig({displayName:"GreetingView__Success",componentId:"sc-1rukhu3-1"})(["color:green;font-weight:bold;"]),Lt=g.c.p.withConfig({displayName:"GreetingView__Failure",componentId:"sc-1rukhu3-2"})(["color:red;font-weight:bold;"]);var Tt=Object(v.a)(e=>{const{app:t}=e;return u.createElement(Nt,null,u.createElement("h3",null,"Welcome to Glass!"),u.createElement("p",null,"Glass is a secondary control and monitoring interface for Microsoft Flight Simulator 2020."),u.createElement("p",null,"On a long flight and wanting to keep an eye on it while in the kitchen? Load up this app on a laptop, phone, or other device to keep an eye on the flight progress."),t.sim.connected&&u.createElement(u.Fragment,null,u.createElement(yt,null,"Good job! You seem to be connected to the sim!")),!t.sim.connected&&u.createElement(u.Fragment,null,u.createElement(Lt,null,"You don't seem to be connected to the server."),u.createElement("p",null,"You likely aren't running the GlassServer, which is a handy server and require to communicate with Flight Sim. Simply download the server and run it on the same computer as Flight Sim is running on."),u.createElement("p",null,"You can download Glass Server ",u.createElement("a",{href:"https://github.com/russleyshaw/GlassServer/releases",rel:"noreferrer",target:"_blank"},"here"),"!")),u.createElement(Ie,{onClick:()=>t.showGreeting.set(!1)},"Dismiss"))}),Ot=Object(v.a)(e=>{var t;const{sim:n}=e;return 1===(null===(t=n.getData("SIM ON GROUND"))||void 0===t?void 0:t.value)?u.createElement(Pe,{title:"Ground"},u.createElement($e,{sim:n,event:"REQUEST_FUEL_KEY",label:"Request Fuel"}),u.createElement($e,{sim:n,event:"TOGGLE_PUSHBACK",label:"Pushback"}),u.createElement(ke,{sim:n,text:"Parking Brake",varName:"BRAKE PARKING POSITION",eventName:"PARKING_BRAKES"})):null}),Ct=Object(v.a)(e=>{const{sim:t}=e;return u.createElement(Pe,{title:"Lights"},u.createElement(ke,{sim:t,text:"Taxi",varName:"LIGHT TAXI",eventName:"TOGGLE_TAXI_LIGHTS"}),u.createElement(ke,{sim:t,text:"Beacon",varName:"LIGHT BEACON",eventName:"TOGGLE_BEACON_LIGHTS"}),u.createElement(ke,{sim:t,text:"Navigation",varName:"LIGHT NAV",eventName:"TOGGLE_NAV_LIGHTS"}),u.createElement(ke,{sim:t,text:"Landing",varName:"LIGHT LANDING",eventName:"LANDING_LIGHTS_TOGGLE"}),u.createElement(ke,{sim:t,text:"Strobe",varName:"LIGHT STROBE",eventName:"STROBES_TOGGLE"}),u.createElement(ke,{sim:t,text:"Logo",varName:"LIGHT LOGO",eventName:"TOGGLE_LOGO_LIGHTS"}),u.createElement(ke,{sim:t,text:"Cabin",varName:"LIGHT CABIN"}),u.createElement(ke,{sim:t,text:"Panel",varName:"LIGHT PANEL",eventName:"PANEL_LIGHTS_TOGGLE"}))});const It=g.c.div.withConfig({displayName:"MapView__RootDiv",componentId:"sc-1u6grbk-0"})(["flex:1 1 auto;width:100%;height:100%;position:relative;overflow:hidden;resize:horizontal;border-left:3px black solid;"]),At=g.c.div.withConfig({displayName:"MapView__MapDiv",componentId:"sc-1u6grbk-1"})(["width:100%;height:100%;position:absolute;top:0;left:0;"]),kt=g.c.div.withConfig({displayName:"MapView__ControlsDiv",componentId:"sc-1u6grbk-2"})(["position:absolute;top:8px;right:8px;"," pointer-events:none;display:flex;flex-direction:row;align-items:stretch;"],ve(4,"row")),_t=g.c.div.withConfig({displayName:"MapView__BottomRightOverlay",componentId:"sc-1u6grbk-3"})(["position:absolute;bottom:8px;right:8px;"," pointer-events:none;display:flex;flex-direction:row;align-items:stretch;"],ve(4,"row")),Dt=g.c.div.withConfig({displayName:"MapView__EnvironmentDiv",componentId:"sc-1u6grbk-4"})(["display:grid;grid-template-columns:1fr auto;background-color:hsla(0,0%,100%,50%);padding:8px;gap:2px;"]),St=g.c.div.withConfig({displayName:"MapView__Column",componentId:"sc-1u6grbk-5"})(["display:flex;width:150px;flex-direction:column;align-items:stretch;pointer-events:none;*{pointer-events:auto;}",""],ve(4,"column"));var Pt,Gt,Rt,Mt=Object(v.a)(e=>{var t,n,l,a;const{map:i,bbox:o,sim:r}=e,s=null===(t=r.getData("AMBIENT TEMPERATURE"))||void 0===t?void 0:t.value,c=null!=s?s.toFixed(2)+"°C":"N/A",d=null===(n=r.getData("AMBIENT WIND VELOCITY"))||void 0===n?void 0:n.value,m=null!=d?Math.round(d)+" kts":"N/A",p=null!==(l=null===(a=r.getData("AMBIENT WIND DIRECTION"))||void 0===a?void 0:a.value)&&void 0!==l?l:0,g=Math.round(p)+"°",v=`rotate(${Math.round(w(i.view.getRotation())+p)}deg)`;return u.createElement(It,null,u.createElement(At,{ref:i.onRef}),u.createElement(kt,null,u.createElement(St,null,u.createElement(Pe,{title:"Map",defaultCollapsed:!0},u.createElement(Ie,{onClick:()=>i.resetNorth()},"Reset North"))),u.createElement(St,null,u.createElement(Pe,{title:"Plane",defaultCollapsed:!0},u.createElement(Ae,{active:i.followPlane,onClick:()=>i.toggleFollowPlane(),text:"Follow Location"}),u.createElement(Ae,{active:i.followHeading,onClick:()=>i.toggleFollowPlaneHeading(),text:"Follow Heading"}))),u.createElement(St,null,u.createElement(Pe,{title:"Blackbox",defaultCollapsed:!0},u.createElement(Ae,{active:o.logging,onClick:()=>o.logging?o.stopLogging():o.startLogging(),text:o.logging?"Logging...":"Log Flight"}),u.createElement(Ie,{onClick:()=>o.clearLog()},"Clear Log"),u.createElement(Ae,{active:i.showLog,onClick:()=>i.toggleShowLog(),text:"Display Log"}),u.createElement(Ie,{onClick:()=>o.downloadLog()},"Download")))),u.createElement(_t,null,u.createElement(St,null,u.createElement(Pe,{title:"Environment"},u.createElement(Dt,null,u.createElement("label",{title:"Outside Air Temperature"},"OAT"),u.createElement("span",null,c),u.createElement("label",null,"Wind Spd"),u.createElement("span",null,m),u.createElement("label",null,"Wind Dir"),u.createElement("div",null,u.createElement("span",null,g),u.createElement(Le.a,{icon:_e.a,style:{transform:v}})))))))}),jt=u.memo(e=>{const{value:t}=e,n=u.useRef(null),[l,a]=u.useState(null),i=u.useMemo(()=>null==t?"":null!=e.format?e.format(t):t,[t,e.format]),o=u.useCallback(()=>{var e;null==l&&(null===(e=n.current)||void 0===e||e.focus())},[l]),r=u.useCallback(e=>{a(e.target.value)},[]),s=u.useCallback(()=>{var t,i,o;null==l&&(null===(t=n.current)||void 0===t||t.select(),a(null!==(i=null===(o=e.value)||void 0===o?void 0:o.toString())&&void 0!==i?i:""))},[e.value,l]),c=u.useCallback(t=>{var n;"Enter"===t.key&&null!=l&&(null===(n=e.onChange)||void 0===n||n.call(e,l),a(null))},[l,e.onChange]),d=u.useCallback(()=>{var t;null!=l&&(null===(t=e.onChange)||void 0===t||t.call(e,l),a(null))},[l,e.onChange]);return u.createElement(be,{onClick:o,active:null!=l},null!=e.label&&u.createElement(we,null,e.label),u.createElement(xe,{ref:n,active:null!=l,value:null!=l?l:i,onFocus:s,onChange:r,onBlur:d,onKeyPress:c,placeholder:e.placeholder,type:"text"}))});async function Ft(e){return new Promise(t=>{const n=()=>{e.removeEventListener("end",n),t()};e.addEventListener("end",n),speechSynthesis.speak(e)})}const Ht=new(Pt=class{constructor(){E()(this,"_utterances",Gt,this),this._speaking=!1,E()(this,"enabled",Rt,this),Object(x.g)(()=>{this.keepSpeaking()})}register(e){return this._utterances.push(e),()=>function(e,t){const n=e.findIndex(e=>e===t);return n<0||e.splice(n,1),e}(this._utterances,e)}async keepSpeaking(){if(!this.enabled.get())return;if(0==this._utterances.length)return;if(this._speaking)return;this._speaking=!0;const e=new Set,t=()=>this._utterances.find(t=>!e.has(t));for(;this._utterances.length>0;){e.clear();let n=t();for(;null!=n;)e.add(n),await Ft(n),n=t()}this._speaking=!1}},Gt=f()(Pt.prototype,"_utterances",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rt=f()(Pt.prototype,"enabled",[x.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ne({initial:!0,deserialize:e=>"true"===e,serialize:e=>e?"true":"false",name:"useAlertVoices",domain:"GlassServerApp"})}}),f()(Pt.prototype,"register",[x.f],Object.getOwnPropertyDescriptor(Pt.prototype,"register"),Pt.prototype),Pt);var Ut=Object(v.a)(e=>{const{sim:t}=e,n=t.serverUrl,l="granted"===Notification.permission,a=Ht.enabled.get();return u.createElement(Pe,{defaultCollapsed:!0,title:"Options"},u.createElement(Ie,{disabled:l,onClick:()=>{Notification.requestPermission()}},l?"Granted Notifications":"Notification Access"),u.createElement(Ae,{text:"Enable Alert Voices",onClick:()=>Ht.enabled.set(!a),active:a}),u.createElement(jt,{label:"Glass Server URL",placeholder:"ws://localhost:8888/sim",value:n.get(),onChange:e=>null!=e&&n.set(e)}))});function Vt(e,t){const n=u.useRef(e);u.useEffect(()=>{n.current=e},[e]),u.useEffect(()=>{if(null!=t&&!1!==t){const e=setInterval(()=>{n.current()},t);return()=>clearInterval(e)}},[t])}const zt=g.c.button.withConfig({displayName:"Alerter__MyButton",componentId:"j7ibqv-0"})(["padding:8px;border-radius:16px;border:2px black solid;"," "," ",""],e=>e.active&&e.dimmed&&"background-color: rgb(127, 0, 0);",e=>e.active&&!e.dimmed&&"background-color: rgb(255, 0, 0);",e=>e.active&&"color: white;");var Bt=Object(v.a)(e=>{const{text:t,active:n,say:l}=e,[a,i]=u.useState(!1),[o,r]=u.useState(!1),s=u.useMemo(()=>null==l?null:new SpeechSynthesisUtterance("Warning; "+l),[l]);u.useEffect(()=>{i(!1)},[n]);const c=!a&&n;return u.useEffect(()=>{if(c&&s)return Ht.register(s)},[c,s]),Vt(()=>{r(e=>!e)},c&&250),u.createElement(zt,{active:n,dimmed:o||a,onClick:()=>i(!0),disabled:!e.active,title:l&&"Warning; "+l},t)}),Kt=Object(v.a)(e=>{var t,n;const{sim:l}=e,a=l.connected?"Connected":"Disconnected",i=1===(null===(t=l.getData("STALL WARNING"))||void 0===t?void 0:t.value),o=1===(null===(n=l.getData("OVERSPEED WARNING"))||void 0===n?void 0:n.value);return u.createElement(Pe,{title:"Status"},u.createElement("span",null,"Server: ",a),u.createElement(Bt,{say:"Stalling",active:i,text:"Stalled"}),u.createElement(Bt,{say:"Overspeed",active:o,text:"Overspeed"}))});const Wt=new ge,Xt=g.c.div.withConfig({displayName:"AppView__RootDiv",componentId:"ses8gt-0"})(["height:100%;display:grid;grid-template-columns:repeat(3,1fr) 500px;@media only screen and (min-width:1080px){grid-template-columns:repeat(3,300px) auto;}gap:8px;"]),$t=g.c.div.withConfig({displayName:"AppView__RowsDiv",componentId:"ses8gt-1"})(["display:flex;flex-direction:column;overflow-y:auto;",""],ve(2,"column"));var Yt=Object(v.a)(e=>{const{sim:t}=Wt;return u.createElement(Xt,null,Wt.showGreeting.get()&&u.createElement(Tt,{app:Wt}),u.createElement($t,null,u.createElement(Kt,{sim:t}),u.createElement(Ot,{sim:t}),u.createElement(qe,{sim:t}),u.createElement(Ge,{sim:t})),u.createElement($t,null,u.createElement(Ct,{sim:t})),u.createElement($t,null,u.createElement(wt,{sim:t}),u.createElement(Ut,{sim:t}),u.createElement(lt,{sim:t})),u.createElement(Mt,{sim:t,bbox:Wt.blackbox,map:Wt.map}))});const qt=g.c.label.withConfig({displayName:"Slider__MyLabel",componentId:"sc-27el68-0"})(["grid-area:label;user-select:none;"]),Jt=g.c.span.withConfig({displayName:"Slider__MyValue",componentId:"sc-27el68-1"})(["grid-area:value;user-select:none;"]),Qt=Object(g.b)(["background-color:",";"],he),Zt=g.c.div.withConfig({displayName:"Slider__RootDiv",componentId:"sc-27el68-2"})(['padding:8px;border-radius:16px;border:solid 2px black;display:grid;grid-template:"label . value" auto "input input input" auto / auto 1fr auto;gap:8px;']),en=Object(g.b)(["border-radius:15px;width:30px;height:30px;background:",";cursor:pointer;"],"hsl(170, 100%, 90%)"),tn=Object(g.b)(["",""],Qt),nn=g.c.input.withConfig({displayName:"Slider__MySlider",componentId:"sc-27el68-3"})(["grid-area:input;-webkit-appearance:none;appearance:none;width:100%;height:32px;background-color:#d3d3d3;border-radius:32px;box-shadow:0 5px 5px -5px #333 inset;::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;"," ","}::-moz-range-thumb{"," ","}"],en,e=>e.active&&tn,en,e=>e.active&&tn);var ln=u.memo(e=>{var t;const n=u.useRef(null),{label:l,min:a,max:i,value:o,step:r}=e,[s,c]=u.useState(),d=u.useMemo(()=>{const t=null!=s?s:o;return null==t?null:null!=e.format?e.format(t):t},[s,o,e.format]),m=u.useCallback(()=>{c(null!=o?o:0)},[o]),p=u.useCallback(e=>{const t=e.target.valueAsNumber;Number.isNaN(t)||c(t)},[]),g=u.useCallback(()=>{var t;null!=s&&s!==o&&(null===(t=e.onChange)||void 0===t||t.call(e,s));c(null)},[s,o,e.onChange]);return u.createElement(Zt,null,u.createElement(qt,null,l),u.createElement(Jt,null,d),u.createElement(nn,{active:null!=s,ref:n,min:null!=a?a:0,max:null!=i?i:1,step:null!=r?r:.1,type:"range",disabled:e.disabled,onFocus:m,onChange:p,onBlur:g,value:null!==(t=null!=s?s:o)&&void 0!==t?t:0}))});const an=g.c.div.withConfig({displayName:"SandboxView__RootDiv",componentId:"sc-1hkvkce-0"})(["width:500px;margin:0 auto;"]),on=g.c.div.withConfig({displayName:"SandboxView__SandDiv",componentId:"sc-1hkvkce-1"})(["border:1px black solid;margin:8px;padding:8px;display:flex;flex-direction:column;"]);var rn=Object(v.a)(e=>{const[t,n]=u.useState(0),[l,a]=u.useState(""),[i,o]=u.useState(0);return u.createElement(an,null,u.createElement(m.b,{to:"/"},"Back to Home"),u.createElement(on,null,u.createElement("label",null,"Button"),u.createElement(Ie,null,"Todo")),u.createElement(on,null,u.createElement("label",null,"Button (Active)"),u.createElement(Ie,{active:!0},"Todo")),u.createElement(on,null,u.createElement("label",null,"Button (Disabled)"),u.createElement(Ie,{disabled:!0},"Todo")),u.createElement(on,null,u.createElement("label",null,"Slider"),u.createElement(ln,{value:t,onChange:e=>{n(e)},label:"Example",format:e=>(100*e).toFixed(1)+" %"})),u.createElement(on,null,u.createElement("label",null,"Meter"),u.createElement(Xe,{value:t,text:(100*t).toFixed(1)+" %",hoverText:"Example"})),u.createElement(on,null,u.createElement("label",null,"Alerter"),u.createElement(Ae,{text:"Trigger Alert",active:1!==t,onClick:()=>n(1)}),u.createElement(Bt,{say:"This is an example.",text:"Example",active:t>=1}),u.createElement(Bt,{say:"This is a second example.",text:"Example 2",active:t>=1})),u.createElement(on,null,u.createElement("label",null,"TextInput"),u.createElement(jt,{label:"Example Text Value",value:l,onChange:a})),u.createElement(on,null,u.createElement("label",null,"NumberInput"),u.createElement(Ne,{label:"Example Number Value",value:t,onChange:e=>n(null!=e?e:0),format:sn})),u.createElement(on,null,u.createElement("label",null,"CollapsibleHeading ",i),u.createElement(Et,{header:"Foo",content:()=>(Vt(()=>o(e=>e+1),100),u.createElement(Xe,{value:i%1e3,max:1e3,text:i,hoverText:"Example"}))})))});function sn(e){return null==e?"N/A":e.toFixed(2)+" ft."}const cn=g.a`
  html, body, #root {
    width: 100%;
    height: 100%;
    margin: 0px;
    padding: 0px;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 14px;
  }
`;function un(){return u.createElement(u.Fragment,null,u.createElement(cn,null),u.createElement(m.a,null,u.createElement(p.c,null,u.createElement(p.a,{path:"/sandbox"},u.createElement(rn,null)),u.createElement(p.a,{path:"/"},u.createElement(Yt,null)))))}d.render(u.createElement(un,null),document.getElementById("root"))}});